<!--TITLE-->
<h2>Search for Reviews</h2>

<div>
  <a routerLink="/home">Back to Home</a>
</div>

<br>

<!--RATING FORM-->
<form #searchForm="ngForm" (ngSubmit)="onSubmit(searchForm)">
  <!--Changing Tables Checkbox-->
  <div class="form-group">
    <label for="hasChangingTables">Changing Table</label>
    <input type="checkbox" id="hasChangingTables" class="form-control" name="hasChangingTables" ngModel>
  </div>
  <!--Cleanliness Number-->
  <div class="form-group">
    <label for="cleanlinessRating">Minimum Cleanliness</label>
    <input type="number" class="form-control" id="cleanlinessRating"
           name="cleanlinessRating" min="1" max="5" required ngModel>
  </div>
  <!--Overall Review Number-->
  <div class="form-group">
    <label for="rating">Minimum Overall Rating</label>
    <input type="number" class="form-control" id="rating"
           name="rating" min="1" max="5" required ngModel>
  </div>

  <!--Submit Button-->
  <input type="submit" [disabled]="!searchForm.form.valid">

</form>
<!--END FORM-->


<!--Show search inputs if populated-->
<div *ngIf="searchRating != null">
  <hr>
  <h2>Your Search</h2>
  <h4>Changing Tables: {{ searchChanging }}</h4>
  <h4>Minimum Cleanliness: {{ searchCleanliness }}</h4>
  <h4>Minimum Overall Rating: {{ searchRating }}</h4>
</div>
<!--Show search results if array has at least one value-->
<div *ngIf="searchResults.length > 0">
  <hr>
  <h2>Found Results ({{ searchResults.length }})</h2>
  <!--For loop for reviews-->
  <div *ngFor="let result of searchResults">
    <h4>Location: {{ result.location }}</h4>
    <h4>Changing Table: {{ result.hasChangingTables }}</h4>
    <h4>Cleanliness: {{ result.cleanlinessRating }}</h4>
    <h4>Overall: {{ result.rating }}</h4>
    <h4>Timestamp: {{ result.timestamp | date:'medium' }}</h4>
  </div>
</div>

